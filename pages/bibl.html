<?xml version="1.0" encoding="UTF-8"?>
<div data-template="templates:surround" data-template-with="templates/datatable.html" data-template-at="datatable">
    <div class="container">
        <div class="card">
            <div class="card-header" style="text-align:center;">
                <h1>Buch- bzw. Werkregister</h1>
                <h3>
                    <a>
                        <i class="fas fa-info" title="Info zum Buch- bzw. Werkregister" data-toggle="modal" data-target="#exampleModal"/>
                    </a>
                    |
                    <a href="../resolver/resolve-doc.xql?doc-name=listbibl.xml&amp;collection=indices">
                        <i class="fas fa-download" title="show TEI source"/>
                    </a>
                </h3>
            </div>
        <div class="card-body">
            <table id="myTable" class="table table-striped table-condensed table-hover">
                <thead>
                    <tr>
                        <th>Titel</th>
                        <th>Autor</th>
                        <th>Exemplar(e)</th>
                        <th>Anzahl Erwähnungen</th>
                    </tr>
                </thead>
                <tfoot style="display:none">
                    <tr>
                        <th>Titel</th>
                        <th>Autor</th>
                        <th>Exemplar(e)</th>
                        <th>Anzahl Erwähnungen</th>
                    </tr>
                </tfoot>
                <tbody id="myTableBody" style="display:none">
                    <tr data-template="app:listBibl"/>
                </tbody>
            </table>
        </div>
    </div>
        <div class="modal" tabindex="-1" role="dialog" id="exampleModal">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Info zum Buch- bzw. Werkregister</h5>
                    </div>
                    <div class="modal-body">
                        <p>
                            Das vorliegende Register umfasst all jene Werke, von denen konkrete Exemplare/Ausgaben in den transkribierten Inventaren (Pustertal) erwähnt werden. Aufgrund der teils nur rudimentären bibliographischen Angaben in den einzelnen Inventaren sind die hier präsentierten Informationen allerdings nur eingeschränkt aussagekräftig. Eine eindeutige Identifizierung des korrekten Titels ist nicht immer möglich.
                        </p>
                       <p>
                           In der Spalte „Exemplar(e)“ finden sich Verlinkungen zu als Digitalisate vorhandenen Beispiel-Ausgaben der in den Dokumenten genannten Bücher beziehungsweise Werke.
                       </p>
                        <p>
                            Die Sortierung der einzelnen Spalten kann durch einen Klick auf die Spaltenüberschrift geändert werden. Das Suchfeld rechts oberhalb der Tabelle durchsucht den gesamten Tabelleninhalt. Darüber hinaus können mit Hilfe der Suchfelder am Fußende der Spalten gezielt die Inhalte dieser Spalten durchsucht beziehungsweise gefiltert werden.
                        </p>
                        <p>
                            Die (ggf. gefilterte) Tabelle kann als PDF oder Excel heruntergeladen beziehungsweise in den Zwischenspeicher kopiert werden.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Schließen</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var table = $('#myTable').DataTable({
        "language": {
        "url": "https://cdn.datatables.net/plug-ins/1.10.19/i18n/German.json"
        },
        keepConditions: true,
        "pageLength": 25,
        dom: 'Bfrtip',
        buttons: [
        'copy', 'excel', 'pdf'
        ]
        });
        
        $(document).ready(function() {
        $("#myTableBody").show({});
        $('#myTable tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text"/>' );
        });
        $("#myTable tfoot").show();
        table.columns().every( function () {
        var that = this;
        
        $( 'input', this.footer() ).on( 'keyup change', function () {
        if ( that.search() !== this.value ) {
        that
        .search( this.value )
        .draw();
        }
        } );
        } );
        });
        
        
    </script>
</div>